import{_ as C}from"./Cbm7ssPS.js";import{r as c,h as $,c as i,a as t,I as w,J as U,F as x,i as z,j as L,b as r,o as l,w as y,k as p,K as b,t as s}from"./qOyIeCwa.js";import N from"./D7JAQ5P5.js";import S from"./CReNhSKn.js";import{a as k}from"./Cm0UX6qg.js";const j={class:"search"},B=t("option",{value:"",disabled:"",selected:""},"프로젝트 구분",-1),F=t("option",{value:"build"},"구축",-1),V=t("option",{value:"maintain"},"운영",-1),D=[B,F,V],K={class:"project"},M={class:"project__list"},R={class:"project__item"},T={class:"project__inner"},E={class:"project__thumb"},I=["src"],J={class:"project__contents"},q={class:"project__info"},A={key:1,class:"project__period"},G={class:"project__name"},H={class:"project__team"},O={class:"project__bottom"},Q={class:"project__link"},W=t("span",null,"프론트 URL :",-1),X=["href"],Y={class:"project__link"},Z=t("span",null,"관리자 URL :",-1),tt=["href"],h=5,lt={__name:"index",setup(et){const v=c(""),o=c({text:"",ctg:""});let d=c([]);const _=c(1),u=c(0),m=async()=>{try{const a=await k.post("/api/project/get",{params:{page:_.value,pageSize:h}});d.value=a.data.projects,u.value=a.data.totalPages}catch(a){alert(a)}},g=async a=>{try{a.target.name==="categoryChange"?o.value.ctg=a.target.value:o.value.text=a.target.value;const n=await k.post("/api/project/get",{params:{ctg:o.value.ctg,text:o.value.text,page:_.value,pageSize:h}});d.value=n.data.projects,u.value=n.data.totalPages}catch(n){alert(n)}},P=a=>{_.value=a,o.value.text?g({target:{text:o.value.text,ctg:o.value.ctg}}):m()};return $(()=>{m()}),(a,n)=>{const f=C;return l(),i(x,null,[t("div",j,[w(t("input",{type:"text",name:"textChange","onUpdate:modelValue":n[0]||(n[0]=e=>v.value=e),onKeyup:g,placeholder:"검색어를 입력하세요"},null,544),[[U,v.value]]),t("select",{name:"categoryChange",id:"categoryChange",onChange:g},D,32)]),t("div",K,[t("div",M,[t("ul",null,[(l(!0),i(x,null,z(L(d),e=>(l(),i("li",R,[t("div",T,[t("div",E,[r(f,{to:`/project/${e.id}`},{default:y(()=>[e.thumbFileName?(l(),i("img",{key:0,src:`/uploads/${e.thumbFileName}`,alt:""},null,8,I)):p("",!0),t("span",{class:b(`project__category ${e.category}`)},s((e==null?void 0:e.category)==="build"?"구축":"운영"),3)]),_:2},1032,["to"])]),t("div",J,[t("div",q,[r(f,{to:`/project/${e.id}`},{default:y(()=>[e.notice?(l(),i("div",{key:0,class:b(`project__notice ${e.notice?"active":""}`)},s(e.notice),3)):p("",!0),e.period?(l(),i("div",A,s(e.period),1)):p("",!0),t("div",G,s(e.project),1),t("div",H,[t("div",null,"기획 담당자 : "+s(e.planning),1),t("div",null,"마크업 담당자 : "+s(e.markup),1),t("div",null,"디자인 담당자 : "+s(e.design),1)])]),_:2},1032,["to"])]),t("div",O,[t("div",Q,[W,t("a",{href:`${e.frontUrl}`,target:"_blank"},s(e.frontUrl),9,X)]),t("div",Y,[Z,t("a",{href:`${e.adminUrl}`,target:"_blank"},s(e.adminUrl),9,tt)])])])])]))),256))])]),r(N,{class:"button-wrap button-wrap--mt40"}),r(S,{totalPages:u.value,currentPage:_.value,pageSize:h,onPageChanged:P},null,8,["totalPages","currentPage"])])],64)}}};export{lt as default};
